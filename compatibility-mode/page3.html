<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="前端,开发,规范">
    <meta name="description" content="前端,开发,规范">
    <meta name="robots" content="前端开发规范">
    <meta name="format-detection" content="telephone=no,email=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>前端开发规范</title>
    <link rel='icon' href='http://imgcache.vikduo.com/static/d9646a682bf2b9b3c9a03f666e168e1d.png' type=‘image/x-ico’ />
    <link rel="stylesheet" href="index.css">
    <link href="//cdn.bootcss.com/bootstrap/4.0.0-alpha.2/css/bootstrap.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
<div id="loading" style="top:0;"><ul class="bokeh"><li></li><li></li><li></li><li></li></ul></div>
<header>
    <div class="container">
        <nav class="navbar navbar-inverse navbar-static-top">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header col-md-12">
                    <div class="col-md-3 center-block center-block">
                        <a class="navbar-brand" href="index.html">一般规范</a>
                    </div>
                    <div class="col-md-3 center-block">
                        <a class="navbar-brand" href="page1.html">HTML</a>
                    </div>
                    <div class="col-md-3 center-block">
                        <a class="navbar-brand" href="page2.html">CSS</a>
                    </div>
                    <div class="col-md-3 center-block">
                        <a class="navbar-brand" href="page3.html">JavaScript</a>
                    </div>
                </div>
            </div><!-- /.container-fluid -->
        </nav>
    </div>
</header>
<div class="container">
    <div class="masthead">
        <span class="icon">✍</span>
        <h1>编码规范 for @wsh</h1>
        <p class="lead">编写灵活、稳定、高质量的 HTML 和 CSS 代码的规范。</p>
    </div>
    <div class="statement">
        <h2>声明</h2>
    </div>
    <div class="statement-text">
        这是一份旨在增强团队的开发协作，提高代码质量和打造开发基石的编码风格规范，其中包含了 HTML, JavaScript 和 CSS/LESS 这几个部分。
        我们知道，当一个团队开始指定并实行编码规范的话，错误就会变得更加显而易见。
        如果一段特定的代码不符合规范的话，它有可能只是代码风格错误，而也有可能会是 bug。
        早期指定规范就使得代码审核得以更好的开展，并且可以更精确的地定位到错误。
        只要开发者们能够保证源代码源文件都严格遵循规范，那接下去所使用的混淆、压缩和编译工具则可投其所好不尽相同。
    </div>
    <div class="heading" id="javascript">
        <h2>JavaScript规范</h2>
    </div>
    <section>
        <div class="col">
            <h3>单var形式（Single var Pattern）</h3>
            <p>在函数顶部使用单var语句是比较有用的一种形式，其好处在于：</p>
            <ol>
                <li>提供了一个单一的地方去寻找功能所需要的所有局部变量</li>
                <li>防止变量在定义之前使用的逻辑错误</li>
                <li>帮助你记住声明的全局变量，因此减少了全局变量</li>
                <li>少代码（类型啊传值啊单线完成）</li>
            </ol>
            <p><strong>推荐</strong></p>
            <pre class="prettyprint lang-css linenums:1 prettyprinted"><ol class="linenums"><li value="1"><span class="kwd">function</span> <span class="pln">func()</span> <span class="pun">{</span><br></li><li value="2">  <span class="kwd">var</span> <span class="pln">a</span> <span class="pun">=</span> <span class="lit">1</span><span class="pun">,</span><br></li><li value="3">      <span class="pln">b</span> <span class="pun">=</span> <span class="lit">2</span><span class="pun">,</span><br></li><li value="4"><span class="pln">      sum</span> <span class="pun">=</span> <span class="pln">a</span> <span class="pun">+</span> <span class="pln">b</span><span class="pun">,</span><br></li><li value="5">      <span class="pln">myobject</span> <span class="pun">=</span> <span class="lit">{}</span><span class="pun">,</span><br></li><li value="6">      <span class="pln">i</span><span class="pun">,</span><br></li><li value="7">      <span class="pln">j</span><span class="pun">;</span><br></li><li value="8">   <span class="pln">// function body...</span></li><li value="9"><span class="pun">}</span></li></ol></pre>
            <h3 id="全局命名空间污染与-iife">全局命名空间污染与 IIFE</h3>
            <p>总是将代码包裹成一个 IIFE(Immediately-Invoked Function Expression)，用以创建独立隔绝的定义域。这一举措可防止全局命名空间被污染。</p>
            <p>IIFE 还可确保你的代码不会轻易被其它全局命名空间里的代码所修改（i.e. 第三方库，window 引用，被覆盖的未定义的关键字等等）。<span id="more-5366"></span></p>
            <p><strong>不推荐</strong></p>
            <pre class="prettyprint lang-js linenums:1 prettyprinted"><ol class="linenums"><li value="1" class="L0"><span class="kwd">var</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span></li><li class="L1"><span class="pln">    y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">100</span><span class="pun">;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="com">// Declaring variables in the global scope is resulting in global scope pollution. All variables declared like this</span></li><li class="L4"><span class="com">// will be stored in the window object. This is very unclean and needs to be avoided.</span></li><li class="L5"><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">x </span><span class="pun">+</span><span class="pln"> </span><span class="str">' '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">y</span><span class="pun">);</span></li></ol></pre>
            <p><strong>推荐</strong></p>
            <pre class="prettyprint lang-js linenums:1 prettyprinted"><ol class="linenums"><li value="1" class="L0"><span class="com">// We declare a IIFE and pass parameters into the function that we will use from the global space</span></li><li class="L1"><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">log</span><span class="pun">,</span><span class="pln"> w</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">){</span></li><li class="L2"><span class="pln">  </span><span class="str">'use strict'</span><span class="pun">;</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span></li><li class="L5"><span class="pln">      y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">100</span><span class="pun">;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">  </span><span class="com">// Will output 'true true'</span></li><li class="L8"><span class="pln">  log</span><span class="pun">((</span><span class="pln">w</span><span class="pun">.</span><span class="pln">x </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">' '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">w</span><span class="pun">.</span><span class="pln">y </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">));</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pun">}(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">,</span><span class="pln"> window</span><span class="pun">));</span></li></ol></pre>
            <hr>
            <h3 id="严格模式">严格模式</h3>
            <p>ECMAScript 5 严格模式可在整个脚本或独个方法内被激活。它对应不同的 javascript 语境会做更加严格的错误检查。严格模式也确保了 javascript 代码更加的健壮，运行的也更加快速。</p>
            <p>严格模式会阻止使用在未来很可能被引入的预留关键字。</p>
            <p>你应该在你的脚本中启用严格模式，最好是在独立的 IIFE 中应用它。避免在你的脚本第一行使用它而导致你的所有脚本都启动了严格模式，这有可能会引发一些第三方类库的问题。</p>
            <p><strong>不推荐</strong></p>
            <pre class="prettyprint lang-js linenums:1 prettyprinted"><ol class="linenums"><li value="1" class="L0"><span class="com">// Script starts here</span></li><li class="L1"><span class="str">'use strict'</span><span class="pun">;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pln">  </span><span class="com">// Your code starts here</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pun">}());</span></li></ol></pre>
            <p><strong>推荐</strong></p>
            <pre class="prettyprint lang-js linenums:1 prettyprinted"><ol class="linenums"><li value="1" class="L0"><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></li><li class="L1"><span class="pln">  </span><span class="str">'use strict'</span><span class="pun">;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">  </span><span class="com">// Your code starts here</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pun">}());</span></li></ol></pre>
            <hr>
            <h3 id="分号">分号</h3>
            <p>总是使用分号，因为隐式的代码嵌套会引发难以察觉的问题。当然我们更要从根本上来杜绝这些问题。以下几个示例展示了缺少分号的危害：</p>
            <pre class="prettyprint lang-js linenums:1 prettyprinted"><ol class="linenums"><li value="1" class="L0"><span class="com">// 1.</span></li><li class="L1"><span class="typ">MyClass</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">myMethod </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L2"><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">42</span><span class="pun">;</span></li><li class="L3"><span class="pun">}</span><span class="pln">  </span><span class="com">// No semicolon here.</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L6"><span class="pln">  </span><span class="com">// Some initialization code wrapped in a function to create a scope for locals.</span></li><li class="L7"><span class="pun">})();</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="kwd">var</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">  </span><span class="str">'i'</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span></li><li class="L2"><span class="pln">  </span><span class="str">'j'</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span></li><li class="L3"><span class="pun">}</span><span class="pln">  </span><span class="com">// No semicolon here.</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="com">// 2.  Trying to do one thing on Internet Explorer and another on Firefox.</span></li><li class="L6"><span class="com">// I know you'd never write code like this, but throw me a bone.</span></li><li class="L7"><span class="pun">[</span><span class="pln">ffVersion</span><span class="pun">,</span><span class="pln"> ieVersion</span><span class="pun">][</span><span class="pln">isIE</span><span class="pun">]();</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="kwd">var</span><span class="pln"> THINGS_TO_EAT </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">apples</span><span class="pun">,</span><span class="pln"> oysters</span><span class="pun">,</span><span class="pln"> sprayOnCheese</span><span class="pun">]</span><span class="pln">  </span><span class="com">// No semicolon here.</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="com">// 3. conditional execution a la bash</span></li><li class="L3"><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> resultOfOperation</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> die</span><span class="pun">();</span></li></ol></pre>
            <p><strong>So what happens?</strong></p>
            <ol>
                <li>JavaScript 错误 —— 首先返回 42 的那个 function 被第二个 function 当中参数传入调用，接着数字 42 也被“调用”而导致出错。</li>
                <li>八成你会得到 ‘no such property in undefined’ 的错误提示，因为在真实环境中的调用是这个样子：<code>x[ffVersion, ieVersion][isIE]()</code>.</li>
                <li><code>die</code> 总是被调用。因为数组减 1 的结果是 <code>NaN</code>，它不等于任何东西（无论 <code>resultOfOperation</code> 是否返回 <code>NaN</code>）。所以最终的结果是 <code>die()</code> 执行完所获得值将赋给 <code>THINGS_TO_EAT</code>.</li>
            </ol>
            <p><strong>Why?</strong></p>
            <p>JavaScript 中语句要以分号结束，否则它将会继续执行下去，不管换不换行。以上的每一个示例中，函数声明或对象或数组，都变成了在一句语句体内。要知道闭合圆括号并不代表语句结束，JavaScript 不会终结语句，除非它的下一个 token 是一个中缀符或者是圆括号操作符。</p>
            <p>这真是让人大吃一惊，所以乖乖地给语句末加上分号吧。</p>
            <p><strong>澄清：分号与函数</strong></p>
            <p>分号需要用在表达式的结尾，而并非函数声明的结尾。区分它们最好的例子是：</p>
            <pre class="prettyprint lang-js linenums:1 prettyprinted"><ol class="linenums"><li value="1" class="L0"><span class="kwd">var</span><span class="pln"> foo </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></li><li class="L2"><span class="pun">};</span><span class="pln">  </span><span class="com">// semicolon here.</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="kwd">function</span><span class="pln"> foo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L5"><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></li><li class="L6"><span class="pun">}</span><span class="pln">  </span><span class="com">// no semicolon here.</span></li></ol></pre>
            <hr>
            <h3 id="三元条件判断（if-的快捷方法）">三元条件判断（if 的快捷方法）</h3>
            <p>用三元运算符分配或返回语句。在比较简单的情况下使用，避免在复杂的情况下使用。没人愿意用 10 行三元运算符把自己的脑子绕晕。</p>
            <p><strong>不推荐</strong></p>
            <pre class="prettyprint lang-js linenums:1 prettyprinted"><ol class="linenums"><li value="1" class="L0"><span class="kwd">if</span><span class="pun">(</span><span class="pln">x </span><span class="pun">===</span><span class="pln"> </span><span class="lit">10</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'valid'</span><span class="pun">;</span></li><li class="L2"><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></li><li class="L3"><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'invalid'</span><span class="pun">;</span></li><li class="L4"><span class="pun">}</span></li></ol></pre>
            <p><strong>推荐</strong></p>
            <pre class="prettyprint lang-js linenums:1 prettyprinted"><ol class="linenums"><li value="1" class="L0"><span class="kwd">return</span><span class="pln"> x </span><span class="pun">===</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">'valid'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">'invalid'</span><span class="pun">;</span></li></ol></pre>
            <hr>
        </div>
    </section>
</div>
<a id="scrollUp" href="#top" style="position: fixed; z-index: 2147483647; display: none;"><i class="fa fa-angle-up"></i></a>
<script src="//cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
</body>
<script>
    (function(){
        var loading = document.getElementById('loading');
        document.body.removeChild(loading);
        var _w = $(window);
        var _wT = 0;
        var _backTop = $('#scrollUp');
        _w.scroll(function(e){
            _wT = _w.scrollTop();
            if (_wT > 120) {
                _backTop.fadeIn()
            }else{
                _backTop.fadeOut()
            }
        })
    })();
</script>
</html>